.e2e-tests-parallel:
  extends:
    - .fast-tests
    - .parallel-e2e-tests
  image: ${IMAGE_JS_PAYMENTS_TESTS}

.e2e-tests-sequentially:
  extends:
    - .fast-tests
    - .sequentially-tests
  image: ${IMAGE_JS_PAYMENTS_TESTS}

.component-app-html-test:
  extends:
    - .fast-tests
    - .services-app-html-test
  image: ${IMAGE_JS_PAYMENTS_TESTS}

# e2e

app-html-dev-e2e-tests:
  extends:
    - .e2e-tests-parallel
    - .services-app-html-dev
  variables:
    FEATURE_FILES_DIR: 'features/e2e_tests'
    FEATURE_FILES_NAMES_CONTAINS: 'e2e_'
  parallel: 20

app-html-release-e2e-tests:
  extends:
    - .e2e-tests-parallel
    - .service-app-html-prod-merchant
    - .rules-when-release
  variables:
    FEATURE_FILES_DIR: 'features/e2e_tests'

  parallel: 19


smoke-app-html-dev-e2e-tests:
  extends:
    - .e2e-tests-parallel
    - .services-app-html-dev
  variables:
    FEATURE_FILES_DIR: 'features/e2e_tests/e2e_smoke_tests'
  parallel: 3

smoke-app-html-release-e2e-tests:
  extends:
    - .e2e-tests-parallel
    - .service-app-html-prod-merchant
    - .rules-when-release
  variables:
    FEATURE_FILES_DIR: 'features/e2e_tests/e2e_smoke_tests'
  parallel: 3

cardinal-commerce-app-html-dev-e2e-tests:
  extends:
    - .e2e-tests-parallel
    - .services-app-html-dev
  variables:
    FEATURE_FILES_DIR: 'features/e2e_tests/e2e_cardinal_commerce'
  parallel: 8

cardinal-commerce-app-html-release-e2e-tests:
  extends:
    - .e2e-tests-parallel
    - .service-app-html-prod-merchant
    - .rules-when-release
  variables:
    FEATURE_FILES_DIR: 'features/e2e_tests/e2e_cardinal_commerce'
  parallel: 8

merchants-features-app-html-dev-e2e-tests:
  extends:
    - .e2e-tests-parallel
    - .services-app-html-dev
  variables:
    FEATURE_FILES_DIR: 'features/e2e_tests/e2e_merchants_features'
  parallel: 6

merchants-features-app-html-release-e2e-tests:
  extends:
    - .e2e-tests-parallel
    - .service-app-html-prod-merchant
    - .rules-when-release
  variables:
    FEATURE_FILES_DIR: 'features/e2e_tests/e2e_merchants_features'
  parallel: 6



card-payments-component-tests:
  extends:
    - .component-app-html-test
    - .parallel-component-tests
  variables:
    FEATURE_FILES_DIR: 'features/component_tests'
  parallel: 21

visa-checkout-component-tests:
  extends:
    - .component-app-html-test
    - .sequentially-component-tests
  variables:
    FEATURE_FILE_NAME: 'visa_checkout.feature'






.zap-url-to-scan-merchant:
  variables:
    URL_TO_SCAN: "https://merchant.securetrading.net"

.zap-url-to-scan-library:
  variables:
    URL_TO_SCAN: "https://library.securetrading.net:8443"

merchant-securetrading-net-dev-security-tests-zap-baseline-scan:
  extends:
    - .zap-baseline-scan
    - .services-app-html-dev
    - .zap-url-to-scan-merchant
  variables:
    ZAP_CONFIG_PATH: "baseline-scan.conf"

library-securetrading-net-dev-security-tests-zap-baseline-scan:
  extends:
    - .zap-baseline-scan
    - .services-app-html-dev
    - .zap-url-to-scan-library
  variables:
    ZAP_CONFIG_PATH: "baseline-scan.conf"

merchant-securetrading-net-release-security-tests-zap-baseline-scan:
  extends:
    - .zap-baseline-scan
    - .service-app-html-prod-merchant
    - .zap-url-to-scan-merchant
    - .rules-when-release
  variables:
    ZAP_CONFIG_PATH: "baseline-scan.conf"

scan-library-securetrading-net-release-security-tests-zap-baseline-scan:
  extends:
    - .zap-baseline-scan
    - .service-app-html-prod-library
    - .zap-url-to-scan-library
    - .rules-when-release
  variables:
    ZAP_CONFIG_PATH: "baseline-scan.conf"
