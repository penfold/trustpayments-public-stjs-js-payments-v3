.e2e-tests:
  extends:
    - .fast-tests
    - .parallel-e2e-tests
  image: ${IMAGE_JS_PAYMENTS_TESTS}

.component-app-html-test:
  extends:
    - .fast-tests
    - .services-app-html-test
  image: ${IMAGE_JS_PAYMENTS_TESTS}

card-payments-headless-component-tests:
  extends:
    - .component-app-html-test
    - .parallel-component-tests
  variables:
    FEATURE_FILES_NAMES_CONTAINS: 'mock_'
  parallel: 22

visa-checkout-headless-component-tests:
  extends:
    - .component-app-html-test
    - .sequentially-component-tests
  variables:
    FEATURE_FILE_NAME: 'visa_checkout.feature'

e2e-app-html-dev:
  extends:
    - .e2e-tests
    - .services-app-html-dev
  parallel: 19

e2e-app-html-release:
  extends:
    - .e2e-tests
    - .services-app-html-prod
    - .rules-when-release
  parallel: 19

zap-baseline-scan-library-securetrading-net:
  services:
    - name: "${IMAGE_JS_PAYMENTS_APP_HTML_DEV}"
      alias: library.securetrading.net
  extends:
    - .zap-baseline-scan
  variables:
    URL_TO_SCAN: 'https://library.securetrading.net'
    ZAP_CONFIG_PATH: "baseline-scan.conf"

zap-baseline-scan-merchant-securetrading-net:
  services:
    - name: "${IMAGE_JS_PAYMENTS_APP_HTML_DEV}"
      alias: merchant.securetrading.net
  extends:
    - .zap-baseline-scan
  variables:
    URL_TO_SCAN: 'https://merchant.securetrading.net'
    ZAP_CONFIG_PATH: "baseline-scan.conf"
